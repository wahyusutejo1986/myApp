<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lucky Family - Family To-Do List</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        
        .family-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .task-item {
            transition: all 0.2s ease;
        }
        
        .task-item:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .completed {
            opacity: 0.6;
            text-decoration: line-through;
        }
        
        .family-member {
            transition: all 0.2s ease;
        }
        
        .family-member:hover {
            transform: scale(1.05);
        }
        
        .priority-high { border-left: 4px solid #ef4444; }
        .priority-medium { border-left: 4px solid #f59e0b; }
        .priority-low { border-left: 4px solid #10b981; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="family-gradient text-white shadow-lg">
        <div class="max-w-6xl mx-auto px-4 py-6">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="bg-white bg-opacity-20 rounded-full p-2">
                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold">Lucky Family</h1>
                        <p class="text-white text-opacity-80 text-sm">Keep your family organized</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <span class="text-sm bg-white bg-opacity-20 px-3 py-1 rounded-full">
                        <span id="taskCount">0</span> tasks today
                    </span>
                </div>
            </div>
        </div>
    </header>

    <div class="max-w-6xl mx-auto px-4 py-8">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Family Members Panel -->
            <div class="lg:col-span-1">
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                    <h2 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                        <svg class="w-5 h-5 mr-2 text-purple-600" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"/>
                        </svg>
                        Family Members
                    </h2>
                    <div class="space-y-3" id="familyMembers">
                        <div class="family-member bg-gradient-to-r from-blue-100 to-blue-200 p-3 rounded-lg cursor-pointer border-2 border-blue-300" data-member="Mom">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-medium text-sm">M</div>
                                    <span class="font-semibold text-gray-900">Mom</span>
                                </div>
                                <span class="text-xs bg-blue-600 text-white px-2 py-1 rounded-full font-medium" id="mom-count">0 tasks</span>
                            </div>
                        </div>
                        <div class="family-member bg-gradient-to-r from-green-100 to-green-200 p-3 rounded-lg cursor-pointer border-2 border-transparent" data-member="Dad">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-medium text-sm">D</div>
                                    <span class="font-semibold text-gray-900">Dad</span>
                                </div>
                                <span class="text-xs bg-green-600 text-white px-2 py-1 rounded-full font-medium" id="dad-count">0 tasks</span>
                            </div>
                        </div>
                        <div class="family-member bg-gradient-to-r from-pink-100 to-pink-200 p-3 rounded-lg cursor-pointer border-2 border-transparent" data-member="Kids">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 bg-pink-600 rounded-full flex items-center justify-center text-white font-medium text-sm">K</div>
                                    <span class="font-semibold text-gray-900">Kids</span>
                                </div>
                                <span class="text-xs bg-pink-600 text-white px-2 py-1 rounded-full font-medium" id="kids-count">0 tasks</span>
                            </div>
                        </div>
                        <div class="family-member bg-gradient-to-r from-purple-100 to-purple-200 p-3 rounded-lg cursor-pointer border-2 border-transparent" data-member="Everyone">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center text-white font-medium text-sm">E</div>
                                    <span class="font-semibold text-gray-900">Everyone</span>
                                </div>
                                <span class="text-xs bg-purple-600 text-white px-2 py-1 rounded-full font-medium" id="everyone-count">0 tasks</span>
                            </div>
                        </div>
                        <div class="family-member bg-gradient-to-r from-orange-100 to-orange-200 p-3 rounded-lg cursor-pointer border-2 border-transparent" data-member="Pets">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 bg-orange-600 rounded-full flex items-center justify-center text-white font-medium text-sm">üêæ</div>
                                    <span class="font-semibold text-gray-900">Pets</span>
                                </div>
                                <span class="text-xs bg-orange-600 text-white px-2 py-1 rounded-full font-medium" id="pets-count">0 tasks</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pet Care Dashboard -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 mt-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                        <span class="text-xl mr-2">üêæ</span>
                        Pet Care
                    </h3>
                    <div class="space-y-4">
                        <div class="bg-gradient-to-r from-blue-100 to-blue-200 p-3 rounded-lg border border-blue-300">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-semibold text-gray-900">üêï Max (Dog)</span>
                                <span class="text-xs bg-blue-600 text-white px-2 py-1 rounded-full font-medium">2 years</span>
                            </div>
                            <div class="text-sm text-gray-800 space-y-1">
                                <div>Last fed: <span id="dogLastFed" class="font-medium">2 hours ago</span></div>
                                <div>Next walk: <span id="dogNextWalk" class="font-medium">In 1 hour</span></div>
                            </div>
                        </div>
                        <div class="bg-gradient-to-r from-purple-100 to-purple-200 p-3 rounded-lg border border-purple-300">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-semibold text-gray-900">üê± Luna (Cat)</span>
                                <span class="text-xs bg-purple-600 text-white px-2 py-1 rounded-full font-medium">3 years</span>
                            </div>
                            <div class="text-sm text-gray-800 space-y-1">
                                <div>Last fed: <span id="catLastFed" class="font-medium">4 hours ago</span></div>
                                <div>Litter box: <span id="catLitter" class="font-medium">Cleaned today</span></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Stats -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 mt-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">Today's Progress</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-600">Completed</span>
                            <span class="font-semibold text-green-600" id="completedCount">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-600">Pending</span>
                            <span class="font-semibold text-orange-600" id="pendingCount">0</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-gradient-to-r from-green-400 to-green-600 h-2 rounded-full transition-all duration-300" style="width: 0%" id="progressBar"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main To-Do List -->
            <div class="lg:col-span-2">
                <!-- Add Task Form -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6">
                    <h2 class="text-lg font-semibold text-gray-800 mb-4">Add New Task</h2>
                    <form id="taskForm" class="space-y-4">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <input type="text" id="taskInput" placeholder="What needs to be done?" 
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" required>
                            <select id="assigneeSelect" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                <option value="Mom">Mom</option>
                                <option value="Dad">Dad</option>
                                <option value="Kids">Kids</option>
                                <option value="Everyone">Everyone</option>
                                <option value="Pets">üêæ Pet Care</option>
                            </select>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <select id="prioritySelect" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                <option value="low">Low Priority</option>
                                <option value="medium" selected>Medium Priority</option>
                                <option value="high">High Priority</option>
                            </select>
                            <input type="date" id="dueDateInput" 
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        </div>
                        <button type="submit" class="w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3 px-6 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all duration-200 font-medium">
                            Add Task
                        </button>
                    </form>
                </div>

                <!-- View Toggle -->
                <div class="flex items-center justify-between mb-6">
                    <div class="flex gap-2">
                        <button id="listViewBtn" class="view-btn bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium">üìã List View</button>
                        <button id="calendarViewBtn" class="view-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-300">üìÖ Calendar View</button>
                    </div>
                    <div id="calendarNav" class="hidden flex items-center gap-3">
                        <button id="prevMonth" class="p-2 hover:bg-gray-100 rounded-lg">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                            </svg>
                        </button>
                        <h3 id="currentMonth" class="text-lg font-semibold text-gray-800 min-w-[140px] text-center"></h3>
                        <button id="nextMonth" class="p-2 hover:bg-gray-100 rounded-lg">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Filter Buttons -->
                <div id="filterButtons" class="flex flex-wrap gap-2 mb-6">
                    <button class="filter-btn bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium" data-filter="all">All Tasks</button>
                    <button class="filter-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-300" data-filter="pending">Pending</button>
                    <button class="filter-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-300" data-filter="completed">Completed</button>
                    <button class="filter-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-300" data-filter="high">High Priority</button>
                    <button class="filter-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-300" data-filter="pets">üêæ Pet Care</button>
                </div>

                <!-- Tasks List -->
                <div class="space-y-3" id="tasksList">
                    <!-- Tasks will be dynamically added here -->
                </div>

                <!-- Calendar View -->
                <div id="calendarView" class="hidden">
                    <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                        <!-- Calendar Header -->
                        <div class="grid grid-cols-7 bg-gray-50 border-b">
                            <div class="p-3 text-center text-sm font-semibold text-gray-700 border-r">Sun</div>
                            <div class="p-3 text-center text-sm font-semibold text-gray-700 border-r">Mon</div>
                            <div class="p-3 text-center text-sm font-semibold text-gray-700 border-r">Tue</div>
                            <div class="p-3 text-center text-sm font-semibold text-gray-700 border-r">Wed</div>
                            <div class="p-3 text-center text-sm font-semibold text-gray-700 border-r">Thu</div>
                            <div class="p-3 text-center text-sm font-semibold text-gray-700 border-r">Fri</div>
                            <div class="p-3 text-center text-sm font-semibold text-gray-700">Sat</div>
                        </div>
                        <!-- Calendar Grid -->
                        <div id="calendarGrid" class="grid grid-cols-7">
                            <!-- Calendar days will be dynamically added here -->
                        </div>
                    </div>
                </div>

                <!-- Empty State -->
                <div id="emptyState" class="text-center py-12 bg-white rounded-xl shadow-sm border border-gray-200">
                    <svg class="w-16 h-16 text-gray-300 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/>
                    </svg>
                    <h3 class="text-lg font-medium text-gray-500 mb-2">No tasks yet</h3>
                    <p class="text-gray-400">Add your first family task to get started!</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let tasks = [];
        let currentFilter = 'all';
        let selectedMember = 'Mom';
        let currentView = 'list';
        let currentDate = new Date();

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            // Set today's date as default
            document.getElementById('dueDateInput').value = new Date().toISOString().split('T')[0];
            
            // Load sample tasks
            loadSampleTasks();
            renderTasks();
            updateStats();
            updateCalendarHeader();
            
            // Event listeners
            document.getElementById('taskForm').addEventListener('submit', addTask);
            
            // View toggle buttons
            document.getElementById('listViewBtn').addEventListener('click', function() {
                currentView = 'list';
                updateViewButtons();
                showView();
            });
            
            document.getElementById('calendarViewBtn').addEventListener('click', function() {
                currentView = 'calendar';
                updateViewButtons();
                showView();
                renderCalendar();
            });
            
            // Calendar navigation
            document.getElementById('prevMonth').addEventListener('click', function() {
                currentDate.setMonth(currentDate.getMonth() - 1);
                updateCalendarHeader();
                renderCalendar();
            });
            
            document.getElementById('nextMonth').addEventListener('click', function() {
                currentDate.setMonth(currentDate.getMonth() + 1);
                updateCalendarHeader();
                renderCalendar();
            });
            
            // Filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    currentFilter = this.dataset.filter;
                    updateFilterButtons();
                    if (currentView === 'list') {
                        renderTasks();
                    } else {
                        renderCalendar();
                    }
                });
            });
            
            // Family member selection
            document.querySelectorAll('.family-member').forEach(member => {
                member.addEventListener('click', function() {
                    selectedMember = this.dataset.member;
                    document.getElementById('assigneeSelect').value = selectedMember;
                    updateMemberSelection();
                    filterByMember(selectedMember);
                });
            });
        });

        function loadSampleTasks() {
            tasks = [
                {
                    id: 1,
                    text: "Pick up groceries for dinner",
                    assignee: "Mom",
                    priority: "high",
                    dueDate: new Date().toISOString().split('T')[0],
                    completed: false,
                    createdAt: new Date()
                },
                {
                    id: 2,
                    text: "Help kids with homework",
                    assignee: "Dad",
                    priority: "medium",
                    dueDate: new Date().toISOString().split('T')[0],
                    completed: false,
                    createdAt: new Date()
                },
                {
                    id: 3,
                    text: "Clean up toys in living room",
                    assignee: "Kids",
                    priority: "low",
                    dueDate: new Date().toISOString().split('T')[0],
                    completed: true,
                    createdAt: new Date()
                },
                {
                    id: 4,
                    text: "üêï Walk Max in the park",
                    assignee: "Pets",
                    priority: "high",
                    dueDate: new Date().toISOString().split('T')[0],
                    completed: false,
                    createdAt: new Date()
                },
                {
                    id: 5,
                    text: "üê± Clean Luna's litter box",
                    assignee: "Pets",
                    priority: "medium",
                    dueDate: new Date().toISOString().split('T')[0],
                    completed: false,
                    createdAt: new Date()
                },
                {
                    id: 6,
                    text: "üêæ Refill pet food bowls",
                    assignee: "Pets",
                    priority: "high",
                    dueDate: new Date().toISOString().split('T')[0],
                    completed: true,
                    createdAt: new Date()
                }
            ];
        }

        function addTask(e) {
            e.preventDefault();
            
            const taskText = document.getElementById('taskInput').value.trim();
            const assignee = document.getElementById('assigneeSelect').value;
            const priority = document.getElementById('prioritySelect').value;
            const dueDate = document.getElementById('dueDateInput').value;
            
            if (!taskText) return;
            
            const newTask = {
                id: Date.now(),
                text: taskText,
                assignee: assignee,
                priority: priority,
                dueDate: dueDate,
                completed: false,
                createdAt: new Date()
            };
            
            tasks.unshift(newTask);
            document.getElementById('taskForm').reset();
            document.getElementById('dueDateInput').value = new Date().toISOString().split('T')[0];
            
            if (currentView === 'list') {
                renderTasks();
            } else {
                renderCalendar();
            }
            updateStats();
        }

        function toggleTask(taskId) {
            const task = tasks.find(t => t.id === taskId);
            if (task) {
                task.completed = !task.completed;
                if (currentView === 'list') {
                    renderTasks();
                } else {
                    renderCalendar();
                }
                updateStats();
            }
        }

        function deleteTask(taskId) {
            tasks = tasks.filter(t => t.id !== taskId);
            if (currentView === 'list') {
                renderTasks();
            } else {
                renderCalendar();
            }
            updateStats();
        }

        function renderTasks() {
            const tasksList = document.getElementById('tasksList');
            const emptyState = document.getElementById('emptyState');
            
            let filteredTasks = tasks;
            
            // Apply filters
            if (currentFilter === 'pending') {
                filteredTasks = tasks.filter(t => !t.completed);
            } else if (currentFilter === 'completed') {
                filteredTasks = tasks.filter(t => t.completed);
            } else if (currentFilter === 'high') {
                filteredTasks = tasks.filter(t => t.priority === 'high');
            } else if (currentFilter === 'pets') {
                filteredTasks = tasks.filter(t => t.assignee === 'Pets');
            }
            
            if (filteredTasks.length === 0) {
                tasksList.style.display = 'none';
                emptyState.style.display = 'block';
                return;
            }
            
            tasksList.style.display = 'block';
            emptyState.style.display = 'none';
            
            tasksList.innerHTML = filteredTasks.map(task => {
                const memberColors = {
                    'Mom': 'bg-blue-100 border-blue-300',
                    'Dad': 'bg-green-100 border-green-300',
                    'Kids': 'bg-pink-100 border-pink-300',
                    'Everyone': 'bg-purple-100 border-purple-300',
                    'Pets': 'bg-orange-100 border-orange-300'
                };
                
                const memberBadgeColors = {
                    'Mom': 'bg-blue-600 text-white',
                    'Dad': 'bg-green-600 text-white',
                    'Kids': 'bg-pink-600 text-white',
                    'Everyone': 'bg-purple-600 text-white',
                    'Pets': 'bg-orange-600 text-white'
                };
                
                return `
                    <div class="task-item bg-white rounded-lg shadow-sm border ${memberColors[task.assignee]} p-4 priority-${task.priority} ${task.completed ? 'completed' : ''}">
                        <div class="flex items-start justify-between">
                            <div class="flex items-start space-x-3 flex-1">
                                <input type="checkbox" ${task.completed ? 'checked' : ''} 
                                       onchange="toggleTask(${task.id})"
                                       class="mt-1 w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                                <div class="flex-1">
                                    <p class="text-gray-900 font-semibold ${task.completed ? 'line-through text-gray-600' : ''}">${task.text}</p>
                                    <div class="flex items-center space-x-3 mt-2">
                                        <span class="text-xs px-2 py-1 rounded-full font-medium ${memberBadgeColors[task.assignee]}">${task.assignee}</span>
                                        <span class="text-xs px-2 py-1 rounded-full font-medium ${
                                            task.priority === 'high' ? 'bg-red-600 text-white' :
                                            task.priority === 'medium' ? 'bg-yellow-600 text-white' :
                                            'bg-green-600 text-white'
                                        }">${task.priority} priority</span>
                                        ${task.dueDate ? `<span class="text-xs text-gray-700 font-medium">Due: ${new Date(task.dueDate).toLocaleDateString()}</span>` : ''}
                                    </div>
                                </div>
                            </div>
                            <button onclick="deleteTask(${task.id})" 
                                    class="text-gray-400 hover:text-red-500 transition-colors ml-4">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function updateStats() {
            const completed = tasks.filter(t => t.completed).length;
            const pending = tasks.filter(t => !t.completed).length;
            const total = tasks.length;
            
            document.getElementById('taskCount').textContent = total;
            document.getElementById('completedCount').textContent = completed;
            document.getElementById('pendingCount').textContent = pending;
            
            const progressPercentage = total > 0 ? (completed / total) * 100 : 0;
            document.getElementById('progressBar').style.width = progressPercentage + '%';
            
            // Update member task counts
            ['Mom', 'Dad', 'Kids', 'Everyone', 'Pets'].forEach(member => {
                const memberTasks = tasks.filter(t => t.assignee === member && !t.completed).length;
                document.getElementById(`${member.toLowerCase()}-count`).textContent = `${memberTasks} tasks`;
            });
        }

        function updateFilterButtons() {
            document.querySelectorAll('.filter-btn').forEach(btn => {
                if (btn.dataset.filter === currentFilter) {
                    btn.className = 'filter-btn bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium';
                } else {
                    btn.className = 'filter-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-300';
                }
            });
        }

        function updateMemberSelection() {
            document.querySelectorAll('.family-member').forEach(member => {
                if (member.dataset.member === selectedMember) {
                    member.className = member.className.replace('border-transparent', 'border-blue-200');
                } else {
                    member.className = member.className.replace('border-blue-200', 'border-transparent');
                }
            });
        }

        function filterByMember(member) {
            currentFilter = 'all';
            updateFilterButtons();
            if (currentView === 'list') {
                renderTasks();
            } else {
                renderCalendar();
            }
        }

        function updateViewButtons() {
            const listBtn = document.getElementById('listViewBtn');
            const calendarBtn = document.getElementById('calendarViewBtn');
            
            if (currentView === 'list') {
                listBtn.className = 'view-btn bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium';
                calendarBtn.className = 'view-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-300';
            } else {
                listBtn.className = 'view-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-300';
                calendarBtn.className = 'view-btn bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium';
            }
        }

        function showView() {
            const tasksList = document.getElementById('tasksList');
            const calendarView = document.getElementById('calendarView');
            const calendarNav = document.getElementById('calendarNav');
            const filterButtons = document.getElementById('filterButtons');
            
            if (currentView === 'list') {
                tasksList.style.display = 'block';
                calendarView.style.display = 'none';
                calendarNav.classList.add('hidden');
                filterButtons.style.display = 'flex';
            } else {
                tasksList.style.display = 'none';
                calendarView.style.display = 'block';
                calendarNav.classList.remove('hidden');
                filterButtons.style.display = 'flex';
            }
        }

        function updateCalendarHeader() {
            const months = ['January', 'February', 'March', 'April', 'May', 'June',
                          'July', 'August', 'September', 'October', 'November', 'December'];
            document.getElementById('currentMonth').textContent = 
                `${months[currentDate.getMonth()]} ${currentDate.getFullYear()}`;
        }

        function renderCalendar() {
            const calendarGrid = document.getElementById('calendarGrid');
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            
            // Get first day of month and number of days
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const daysInMonth = lastDay.getDate();
            const startingDayOfWeek = firstDay.getDay();
            
            // Clear calendar
            calendarGrid.innerHTML = '';
            
            // Add empty cells for days before month starts
            for (let i = 0; i < startingDayOfWeek; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'min-h-[120px] border-r border-b bg-gray-50';
                calendarGrid.appendChild(emptyDay);
            }
            
            // Add days of the month
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                const currentDateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const isToday = currentDateStr === new Date().toISOString().split('T')[0];
                
                dayElement.className = `min-h-[120px] border-r border-b p-2 ${isToday ? 'bg-blue-50' : 'bg-white'} hover:bg-gray-50`;
                
                // Day number
                const dayNumber = document.createElement('div');
                dayNumber.className = `text-sm font-semibold mb-2 ${isToday ? 'text-blue-600' : 'text-gray-700'}`;
                dayNumber.textContent = day;
                dayElement.appendChild(dayNumber);
                
                // Get tasks for this day
                const dayTasks = getFilteredTasks().filter(task => task.dueDate === currentDateStr);
                
                // Add tasks to day
                dayTasks.forEach(task => {
                    const taskElement = document.createElement('div');
                    const memberColors = {
                        'Mom': 'bg-blue-100 text-blue-800 border-blue-200',
                        'Dad': 'bg-green-100 text-green-800 border-green-200',
                        'Kids': 'bg-pink-100 text-pink-800 border-pink-200',
                        'Everyone': 'bg-purple-100 text-purple-800 border-purple-200',
                        'Pets': 'bg-orange-100 text-orange-800 border-orange-200'
                    };
                    
                    taskElement.className = `text-xs p-1 mb-1 rounded border ${memberColors[task.assignee]} ${task.completed ? 'opacity-60 line-through' : ''} cursor-pointer`;
                    taskElement.textContent = task.text.length > 25 ? task.text.substring(0, 25) + '...' : task.text;
                    taskElement.title = task.text;
                    taskElement.onclick = () => toggleTask(task.id);
                    
                    dayElement.appendChild(taskElement);
                });
                
                calendarGrid.appendChild(dayElement);
            }
            
            // Fill remaining cells
            const totalCells = calendarGrid.children.length;
            const remainingCells = 42 - totalCells; // 6 rows √ó 7 days
            for (let i = 0; i < remainingCells; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'min-h-[120px] border-r border-b bg-gray-50';
                calendarGrid.appendChild(emptyDay);
            }
        }

        function getFilteredTasks() {
            let filteredTasks = tasks;
            
            // Apply filters
            if (currentFilter === 'pending') {
                filteredTasks = tasks.filter(t => !t.completed);
            } else if (currentFilter === 'completed') {
                filteredTasks = tasks.filter(t => t.completed);
            } else if (currentFilter === 'high') {
                filteredTasks = tasks.filter(t => t.priority === 'high');
            } else if (currentFilter === 'pets') {
                filteredTasks = tasks.filter(t => t.assignee === 'Pets');
            }
            
            return filteredTasks;
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'962685acc6679c99',t:'MTc1MzA1NzExOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
